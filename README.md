# Пример использования grpc web

Основной проект - https://github.com/grpc/grpc-web

## Пошаговая инструкция

1) Создать proto файл или файлы (в проекте есть два примера в папке `proto_files`).
2) Запускаем `npm i`, если нужно только сгенерировать клиент из proto файла достаточно установить эти пакеты:
- "google-protobuf",
- "grpc-web",
- "protoc-gen-grpc-web",
- "protoc",
3) Далее запускаем `npm run protoc-gen`, это запуск `bat` файла для генерации клиента из proto файла. Пример команды есть в файле `commands.txt`. Для команды protoc нужно перейти в директорию exe файла из node_ modules, указать путь к proto файлам, подключить плагин protoc-gen-grpc-web, который лежит в node_ modules, далее указать в каком формате будут сгенерированные файлы и путь, где будут сгенерированные файлы. Всё это написано в одну строчку в `bat` и `commands.txt` файлах.

Если нужно запустить пример с node, требуются дополнительные шаги.

4) Запустить `npm run build`.
5) Запустить `node server`.
6) Запустить докер для proxy (команда есть в `commands.txt`, в ней нужно подправить путь к `envoy.yaml`). Более подробно можно узучить в основном проекте.
7) Запустить `node express-server` пройти по указанному пути